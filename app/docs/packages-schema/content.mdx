# @paljs/schema (Legacy)

> **This package is legacy.** In PalJS v9, schema manipulation is handled by `@paljs/generator` using Prisma's native DMMF. This package is only needed if you use `@paljs/generator-legacy` (v8).

## Introduction

A Prisma schema manipulation package that provides tools for converting, transforming, and analyzing Prisma schema files. Includes utilities for JSON conversion, camelCase transformation, and TypeScript generation.

## Installation

<PackageManagerTabs
  commands={{
    npm: "npm install @paljs/schema",
    yarn: "yarn add @paljs/schema",
    pnpm: "pnpm add @paljs/schema",
  }}
/>

## Main Exports

### PrismaReader

Reads and parses Prisma schema files:

```typescript
import { PrismaReader } from '@paljs/schema';

const reader = new PrismaReader('./prisma/schema.prisma');
const schema = reader.read();

console.log(schema.models);
console.log(schema.enums);
```

### ConvertSchemaToObject

Converts a Prisma schema to a structured JSON object:

```typescript
import { ConvertSchemaToObject } from '@paljs/schema';

const converter = new ConvertSchemaToObject('./prisma/schema.prisma');
const schemaObject = converter.run();
```

### CamelCase

Converts snake_case field names to camelCase:

```typescript
import { CamelCase } from '@paljs/schema';

const camelCase = new CamelCase('./prisma/schema.prisma');
await camelCase.convert();
```

### GenerateTypeScript

Generates TypeScript interfaces from a Prisma schema:

```typescript
import { GenerateTypeScript } from '@paljs/schema';

const generator = new GenerateTypeScript('./prisma/schema.prisma');
const types = generator.run();
```

## v9 Alternative

In v9, use `@paljs/generator` which captures DMMF during `prisma generate`:

```prisma
generator paljs {
  provider = "paljs-generator"
  output   = "./generated/paljs"
}
```

The generated `dmmf/` directory contains the full schema data in JSON format. For TypeScript types, enable `generateTypes: true` in your `paljs.config.ts`.

See the [Generator documentation](/docs/packages-generator) for details.
